
                <!DOCTYPE html>
                <html lang="zh">
                <head>
                  <meta charset="UTF-8">
                  <meta name="viewport" content="width=device-width, initial-scale=1.0">
                  <title>报价单详情</title>
                  <style>
                    *,
                    *::before,
                    *::after {
                      box-sizing: border-box;
                      margin: 0;
                    }
                    .iframe-outer {
                      position: fixed;
                      top: 0;
                      left: 0;
                      bottom: 0;
                      right: 0;
                      display: flex;
                      justify-content: center;
                      background-color: #E0E0E0;
                    }
                    .iframe-wrapper {
                      width: 100%;
                      height: 100%;
                      margin: 0 auto;
                      transform-origin: center top;
                      flex-shrink: 0;
                    }
                    #dynamicIframe {
                      border: none;
                      width: 100%;
                      height: 100%;
                    }
                  </style>
                  <script>
                const width = 1920
                const height = 1080
                const resolutionRatio = width && height ? width / height : 1
                const pageNameMap = {
                  '导航主页': '导航主页',
    '询报价首页': '空运询报价',
    '计算结果页': '报价计算结果',
    '报价单详情页': '报价单详情',
    '历史询价页': '历史询价记录'
                }
                function setIframeSize(w, h) {
                  const currentContainerRadio = w / h
                  let widthValue = w
                  let heightValue = h
                  let zoom = 1
                  if (currentContainerRadio > resolutionRatio) {
                    widthValue = h * resolutionRatio
                    heightValue = h
                  } else {
                    widthValue = w
                    heightValue = w / resolutionRatio
                  }
                  zoom = width ? widthValue / width : 1
                  return {
                    width: widthValue / zoom + 'px',
                    height: heightValue / zoom + 'px',
                    zoom,
                  }
                }
                function adjustIframeSize() {
                  const iframeWrapper = document.querySelector(".iframe-wrapper")
                  const { width, height, zoom } = setIframeSize(window.innerWidth, window.innerHeight)
                  iframeWrapper.style.height = height
                  iframeWrapper.style.width = width
                  iframeWrapper.style.transform = 'scale(' + zoom + ')'
                }
                function sanitizeFilename(name) {
                  return name.replace(/[\/:*?"<>|]/g, '_')
                }
                function handlePostMessage(event) {
                  if (!event.data) {
                    return
                  }
                  const { type, targetPageId } = event.data
                  const targetPageName = pageNameMap[targetPageId]
                  if (type === "iframeNavigation" && targetPageId && targetPageName) {
                    window.location.href = targetPageName + '.html'
                  }
                }
                window.addEventListener('message', handlePostMessage)
                window.onload = adjustIframeSize
                window.onresize = adjustIframeSize
                window.onunload = () => {
                  window.removeEventListener('message', handlePostMessage)
                }
              </script>
                </head>
                <body>
                  <div class="iframe-outer">
                    <div class="iframe-wrapper">
                      <iframe id="dynamicIframe" srcdoc='<html lang="zh-CN" data-theme="business"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>报价单详情 - 空运通</title>
    <link href="./assets/static/uxbot/daisyui@5.css" rel="stylesheet" type="text/css">
    <script src="./assets/static/uxbot/tailwind-browser@4.js"></script>
    <link href="./assets/static/uxbot/daisyui-themes.css" rel="stylesheet" type="text/css">
    <script src="./assets/3/3.1.1/iconify.min.js"></script>
    <style>
/* CSS code for common usage*/
/* daisyUI Theme Variables Customization
 * Based on the selected daisyUI theme and UI guidance requirements,
 * customize only the CSS variables that need to be different from the theme defaults.
 */
:root {
    /* Brand Colors Override for Air Freight Logistics Theme */
    --color-primary: rgba(37, 99, 235, 1); /* Professional Blue */
    --color-secondary: rgba(51, 65, 85, 1); /* Slate Gray */
    --color-accent: rgba(34, 197, 94, 1); /* Success Green */
    --color-base-100: rgba(255, 255, 255, 1); /* Pure White */
    --color-base-200: rgba(248, 250, 252, 1); /* Light Gray */
    --color-base-300: rgba(226, 232, 240, 1); /* Border Gray */
    --color-error: rgba(239, 68, 68, 1); /* Error Red */
    --color-warning: rgba(245, 158, 11, 1); /* Warning Amber */
    --color-info: rgba(59, 130, 246, 1); /* Info Blue */
    --radius-box: 0.5rem; /* 8px professional rounding */
    --border: 1px;
}

/* Global Layout Styles */
.app-container {
    max-width: 1440px;
    margin: 0 auto;
    padding: 0 16px;
}

/* Header Styles */
.app-header {
    height: 64px;
    position: sticky;
    top: 0;
    z-index: 40;
    background: var(--color-base-100);
    border-bottom: var(--border) solid var(--color-base-300);
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
}

/* Sidebar Styles */
.app-sidebar {
    width: 280px;
    position: sticky;
    top: 64px;
    height: calc(100vh - 64px);
    overflow-y: auto;
    transition: width 0.3s ease-in-out;
    background: var(--color-base-100);
    border-right: var(--border) solid var(--color-base-300);
}

.app-sidebar.collapsed {
    width: 80px;
}

.app-sidebar.collapsed .sidebar-text {
    display: none;
}

.app-sidebar.collapsed .sidebar-item {
    justify-content: center;
    padding-left: 1rem;
    padding-right: 1rem;
}

/* Active Navigation State */
.nav-item-active {
    background: rgba(37, 99, 235, 0.1);
    border-left: 4px solid var(--color-primary);
    color: var(--color-primary);
}

/* Smooth transitions for navigation */
.nav-item {
    transition: all 0.15s ease-in-out;
}

.nav-item:hover {
    background: rgba(37, 99, 235, 0.05);
}

/* Footer Styles */
.footer-comprehensive {
    background: var(--color-secondary);
    color: rgba(255, 255, 255, 0.9);
}

.footer-simple {
    height: 32px;
    background: var(--color-base-200);
    border-top: var(--border) solid var(--color-base-300);
}

/* Custom logistics-specific styles */
.logistics-brand {
    background: linear-gradient(135deg, var(--color-primary), rgba(59, 130, 246, 1));
    background-clip: text;
    -webkit-background-clip: text;
    color: transparent;
    font-weight: 700;
}
</style>
    <style>
/* Quote Detail Page Specific Styles */
.charge-subtotal {
    color: var(--color-primary);
    font-weight: 600;
}

.editable-field {
    transition: all 0.15s ease-in-out;
}

.editable-field:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
}

.edit-mode {
    background-color: rgba(37, 99, 235, 0.05);
    border-color: var(--color-primary);
}

/* Enhanced button hover effects */
.btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* Table row hover effect */
.table tbody tr:hover {
    background-color: rgba(37, 99, 235, 0.02);
}

/* Input group styling for charge adjustments */
.join .btn:hover {
    background-color: var(--color-primary);
    color: var(--color-primary-content);
    border-color: var(--color-primary);
}

/* Total amount highlight */
#totalAmount {
    text-shadow: 0 2px 4px rgba(37, 99, 235, 0.1);
}

/* Subtle texture for cards */
.card {
    background: linear-gradient(135deg, var(--color-base-100) 0%, rgba(248, 250, 252, 0.8) 100%);
}

/* Enhanced form control styling */
.form-control .label {
    margin-bottom: 4px;
}

.form-control .input:focus,
.form-control .textarea:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
}

/* Badge styling improvements */
.badge {
    font-weight: 500;
    letter-spacing: 0.025em;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .join {
        flex-direction: column;
    }
    
    .join .btn,
    .join .input {
        border-radius: var(--radius-box);
        border: var(--border) solid var(--color-base-300);
    }
}

/* Animation for adding new charge items */
@keyframes slideInFromTop {
    from {
        opacity: 0;
        transform: translateY(-20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.new-charge-item {
    animation: slideInFromTop 0.3s ease-out;
}

/* Improved textarea styling */
.textarea {
    font-family: inherit;
    line-height: 1.6;
}

.textarea:focus {
    outline: none;
    border-color: var(--color-primary);
    box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.1);
}

/* Status badge styling */
.badge-primary {
    background: linear-gradient(135deg, var(--color-primary), rgba(59, 130, 246, 1));
    color: white;
    border: none;
}
</style>
<script src="./assets/static/uxbot/25_6/holder.js"></script></head>
<body class="bg-base-100">
    <!-- Header -->
    <div class="header-wrapper">
        <div data-section-id="common_header" data-section-type="common_header">
    <header class="app-header">
        <div class="navbar px-6">
            <!-- Navbar Start - Logo and Mobile Menu -->
            <div class="navbar-start">
                <div class="dropdown lg:hidden">
                    <button class="btn btn-ghost" onclick="toggleMobileMenu()">
                        <span class="iconify" data-icon="heroicons:bars-3" data-width="24"></span>
                    </button>
                    <ul class="mobile-menu menu menu-sm dropdown-content mt-3 z-50 p-2 shadow bg-base-100 rounded-box w-52 hidden">
                        <li><a onclick="navigateTo(&#39;导航主页&#39;)">首页</a></li>
                        <li><a onclick="navigateTo(&#39;客服问答页&#39;)">客服问答</a></li>
                        <li><a onclick="navigateTo(&#39;询报价首页&#39;)">空运报价</a></li>
                        <li><a onclick="navigateTo(&#39;历史询价页&#39;)">历史记录</a></li>
                        <li><a onclick="navigateTo(&#39;人工客服联系页&#39;)">联系客服</a></li>
                        <li><a onclick="navigateTo(&#39;个人设置页&#39;)">个人设置</a></li>
                    </ul>
                </div>
                <a class="btn btn-ghost text-xl font-bold text-primary" onclick="navigateTo(&#39;导航主页&#39;)">
                    <span class="iconify text-primary" data-icon="heroicons:paper-airplane" data-width="32"></span>
                    <span class="logistics-brand">空运通</span>
                </a>
            </div>

            <!-- Navbar Center - Main Navigation -->
            <div class="navbar-center hidden lg:flex">
                <ul class="menu menu-horizontal px-1">
                    <li><a class="nav-item" data-nav-page="导航主页" onclick="navigateTo(&#39;导航主页&#39;)">首页</a></li>
                    <li>
                        <details>
                            <summary class="nav-item">服务</summary>
                            <ul class="p-2 z-10 bg-base-100 rounded-box shadow-lg">
                                <li><a onclick="navigateTo(&#39;客服问答页&#39;)">客服问答</a></li>
                                <li><a onclick="navigateTo(&#39;询报价首页&#39;)">空运报价</a></li>
                                <li><a onclick="navigateTo(&#39;人工客服联系页&#39;)">联系客服</a></li>
                            </ul>
                        </details>
                    </li>
                    <li>
                        <details>
                            <summary class="nav-item">报价管理</summary>
                            <ul class="p-2 z-10 bg-base-100 rounded-box shadow-lg">
                                <li><a onclick="navigateTo(&#39;询报价首页&#39;)">新建报价</a></li>
                                <li><a onclick="navigateTo(&#39;历史询价页&#39;)">历史记录</a></li>
                                <li><a onclick="navigateTo(&#39;计算结果页&#39;)">报价结果</a></li>
                            </ul>
                        </details>
                    </li>
                    <li><a class="nav-item" data-nav-page="客服问答页" onclick="navigateTo(&#39;客服问答页&#39;)">智能客服</a></li>
                </ul>
            </div>

            <!-- Navbar End - Search and User Menu -->
            <div class="navbar-end flex items-center gap-4">
                <!-- Global Search -->
                <div class="form-control hidden md:block">
                    <div class="join">
                        <input type="text" placeholder="搜索运单号、报价..." class="input input-bordered input-sm join-item w-48" onkeypress="if(event.key===&#39;Enter&#39;) handleGlobalSearch(this.value)">
                        <button class="btn btn-sm btn-primary join-item">
                            <span class="iconify" data-icon="heroicons:magnifying-glass" data-width="16"></span>
                        </button>
                    </div>
                </div>

                <!-- Notifications -->
                <div class="indicator">
                    <span class="indicator-item badge badge-primary badge-xs"></span>
                    <button class="btn btn-ghost btn-circle">
                        <span class="iconify" data-icon="heroicons:bell" data-width="20"></span>
                    </button>
                </div>

                <!-- User Profile Dropdown -->
                <div class="dropdown dropdown-end">
                    <button class="btn btn-ghost btn-circle avatar">
                        <div class="avatar placeholder inline-flex items-center justify-center w-10 h-10 rounded-full bg-primary text-primary-content">
                            <span class="flex items-center justify-center h-full font-semibold text-lg">用</span>
                        </div>
                    </button>
                    <ul class="menu menu-sm dropdown-content mt-3 z-50 p-2 shadow bg-base-100 rounded-box w-52">
                        <li><a onclick="navigateTo(&#39;个人设置页&#39;)" class="justify-between">
                            <span>个人设置</span>
                            <span class="badge badge-sm badge-secondary">New</span>
                        </a></li>
                        <li><a onclick="navigateTo(&#39;历史询价页&#39;)">历史记录</a></li>
                        <li><a onclick="navigateTo(&#39;人工客服联系页&#39;)">联系客服</a></li>
                        <div class="divider my-1"></div>
                        <li><a onclick="navigateTo(&#39;登录页&#39;)">退出登录</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </header>
</div>
    </div>

    <!-- Main Layout -->
    <div class="flex min-h-screen">
        <!-- Sidebar -->
        <div class="sidebar-wrapper">
            <div data-section-id="common_sidebar" data-section-type="common_sidebar">
    <aside class="app-sidebar">
        <div class="p-4">
            <!-- Sidebar Header -->
            <div class="flex items-center justify-between mb-6">
                <div class="sidebar-text">
                    <h3 class="font-semibold text-base-content">功能导航</h3>
                </div>
                <button class="btn btn-ghost btn-sm" onclick="toggleSidebar()">
                    <span class="iconify" data-icon="heroicons:bars-3" data-width="20"></span>
                </button>
            </div>

            <!-- Navigation Menu -->
            <ul class="menu space-y-1">
                <!-- 首页 -->
                <li>
                    <a class="nav-item sidebar-item" data-nav-page="导航主页" onclick="navigateTo(&#39;导航主页&#39;)">
                        <span class="iconify" data-icon="heroicons:home" data-width="20"></span>
                        <span class="sidebar-text ml-3">首页</span>
                    </a>
                </li>

                <!-- 客服服务 -->
                <li>
                    <details>
                        <summary class="nav-item sidebar-item">
                            <span class="iconify" data-icon="heroicons:chat-bubble-left-ellipsis" data-width="20"></span>
                            <span class="sidebar-text ml-3">客服服务</span>
                        </summary>
                        <ul class="pl-8 space-y-1">
                            <li><a onclick="navigateTo(&#39;客服问答页&#39;)">智能问答</a></li>
                            <li><a onclick="navigateTo(&#39;人工客服联系页&#39;)">人工客服</a></li>
                        </ul>
                    </details>
                </li>

                <!-- 报价管理 -->
                <li>
                    <details>
                        <summary class="nav-item sidebar-item">
                            <span class="iconify" data-icon="heroicons:calculator" data-width="20"></span>
                            <span class="sidebar-text ml-3">报价管理</span>
                        </summary>
                        <ul class="pl-8 space-y-1">
                            <li><a onclick="navigateTo(&#39;询报价首页&#39;)">新建报价</a></li>
                            <li><a onclick="navigateTo(&#39;计算结果页&#39;)">计算结果</a></li>
                            <li><a onclick="navigateTo(&#39;报价单详情页&#39;)">报价详情</a></li>
                            <li><a onclick="navigateTo(&#39;历史询价页&#39;)">历史记录</a></li>
                        </ul>
                    </details>
                </li>

                <!-- 货运追踪 -->
                <li>
                    <a class="nav-item sidebar-item">
                        <span class="iconify" data-icon="heroicons:map-pin" data-width="20"></span>
                        <span class="sidebar-text ml-3">货运追踪</span>
                    </a>
                </li>

                <!-- 个人中心 -->
                <li>
                    <details>
                        <summary class="nav-item sidebar-item">
                            <span class="iconify" data-icon="heroicons:user-circle" data-width="20"></span>
                            <span class="sidebar-text ml-3">个人中心</span>
                        </summary>
                        <ul class="pl-8 space-y-1">
                            <li><a onclick="navigateTo(&#39;个人设置页&#39;)">个人设置</a></li>
                            <li><a onclick="navigateTo(&#39;忘记密码页&#39;)">修改密码</a></li>
                        </ul>
                    </details>
                </li>

                <!-- 帮助支持 -->
                <li>
                    <a class="nav-item sidebar-item" onclick="navigateTo(&#39;人工客服联系页&#39;)">
                        <span class="iconify" data-icon="heroicons:question-mark-circle" data-width="20"></span>
                        <span class="sidebar-text ml-3">帮助支持</span>
                    </a>
                </li>
            </ul>

            <!-- Quick Actions -->
            <div class="mt-8 pt-4 border-t border-base-300">
                <div class="sidebar-text">
                    <p class="text-sm font-medium text-base-content mb-3">快捷操作</p>
                </div>
                <div class="space-y-2">
                    <button class="btn btn-primary btn-sm w-full" onclick="navigateTo(&#39;询报价首页&#39;)">
                        <span class="iconify" data-icon="heroicons:plus" data-width="16"></span>
                        <span class="sidebar-text ml-2">新建报价</span>
                    </button>
                    <button class="btn btn-outline btn-sm w-full" onclick="navigateTo(&#39;客服问答页&#39;)">
                        <span class="iconify" data-icon="heroicons:chat-bubble-left" data-width="16"></span>
                        <span class="sidebar-text ml-2">咨询客服</span>
                    </button>
                </div>
            </div>
        </div>
    </aside>
</div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <main class="flex-1 p-8 space-y-8">
                <!-- Quote Detail Actions Section -->
                <section class="bg-base-100 rounded-lg border border-base-300 p-6">
                    <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
                        <!-- Page Title and Status -->
                        <div class="flex items-center gap-4">
                            <h1 class="text-3xl font-bold text-base-content">报价单详情</h1>
                            <div class="badge badge-primary badge-lg">草稿</div>
                        </div>

                        <!-- Action Buttons -->
                        <div class="flex flex-wrap gap-3">
                            <button class="btn btn-ghost btn-sm" onclick="navigateTo(&#39;导航主页&#39;)">
                                <span class="iconify" data-icon="heroicons:home" data-width="16"></span>
                                返回主页
                            </button>
                            <button class="btn btn-ghost btn-sm" onclick="navigateTo(&#39;计算结果页&#39;)">
                                <span class="iconify" data-icon="heroicons:arrow-left" data-width="16"></span>
                                返回计算结果
                            </button>
                            <button class="btn btn-secondary btn-sm" onclick="handleExportPDF()">
                                <span class="iconify" data-icon="heroicons:document-arrow-down" data-width="16"></span>
                                导出PDF
                            </button>
                            <button class="btn btn-accent btn-sm" onclick="handleShareLink()">
                                <span class="iconify" data-icon="heroicons:share" data-width="16"></span>
                                分享链接
                            </button>
                            <button class="btn btn-primary btn-sm" onclick="handleSaveQuote()">
                                <span class="iconify" data-icon="heroicons:check" data-width="16"></span>
                                保存报价
                            </button>
                        </div>
                    </div>
                </section>

                <!-- Quote Overview Section -->
                <section class="card bg-base-100 shadow-sm border border-base-300">
                    <div class="card-body">
                        <h2 class="card-title text-xl mb-6 flex items-center gap-2">
                            <span class="iconify text-primary" data-icon="heroicons:document-text" data-width="24"></span>
                            报价概览
                        </h2>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Basic Information -->
                            <div class="space-y-4">
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">报价单号</span>
                                        <button class="btn btn-ghost btn-xs" onclick="editField(&#39;quoteNumber&#39;)">
                                            <span class="iconify" data-icon="heroicons:pencil" data-width="12"></span>
                                        </button>
                                    </label>
                                    <input type="text" value="QT-2025-001234" class="input input-bordered input-sm" id="quoteNumber" readonly="">
                                </div>
                                
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">客户名称</span>
                                        <button class="btn btn-ghost btn-xs" onclick="editField(&#39;customerName&#39;)">
                                            <span class="iconify" data-icon="heroicons:pencil" data-width="12"></span>
                                        </button>
                                    </label>
                                    <input type="text" value="上海贸易有限公司" class="input input-bordered input-sm" id="customerName" readonly="">
                                </div>
                                
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">询价日期</span>
                                    </label>
                                    <input type="date" value="2025-01-12" class="input input-bordered input-sm" readonly="">
                                </div>
                            </div>

                            <!-- Route Information -->
                            <div class="space-y-4">
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">出发地</span>
                                        <button class="btn btn-ghost btn-xs" onclick="editField(&#39;origin&#39;)">
                                            <span class="iconify" data-icon="heroicons:pencil" data-width="12"></span>
                                        </button>
                                    </label>
                                    <input type="text" value="上海浦东国际机场 (PVG)" class="input input-bordered input-sm" id="origin" readonly="">
                                </div>
                                
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">目的地</span>
                                        <button class="btn btn-ghost btn-xs" onclick="editField(&#39;destination&#39;)">
                                            <span class="iconify" data-icon="heroicons:pencil" data-width="12"></span>
                                        </button>
                                    </label>
                                    <input type="text" value="洛杉矶国际机场 (LAX)" class="input input-bordered input-sm" id="destination" readonly="">
                                </div>
                                
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">货物类型</span>
                                        <button class="btn btn-ghost btn-xs" onclick="editField(&#39;cargoType&#39;)">
                                            <span class="iconify" data-icon="heroicons:pencil" data-width="12"></span>
                                        </button>
                                    </label>
                                    <input type="text" value="普通货物" class="input input-bordered input-sm" id="cargoType" readonly="">
                                </div>
                            </div>

                            <!-- Cargo Details -->
                            <div class="space-y-4">
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">件数</span>
                                        <button class="btn btn-ghost btn-xs" onclick="editField(&#39;pieces&#39;)">
                                            <span class="iconify" data-icon="heroicons:pencil" data-width="12"></span>
                                        </button>
                                    </label>
                                    <input type="number" value="5" class="input input-bordered input-sm" id="pieces" readonly="">
                                </div>
                                
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">总重量 (kg)</span>
                                        <button class="btn btn-ghost btn-xs" onclick="editField(&#39;weight&#39;)">
                                            <span class="iconify" data-icon="heroicons:pencil" data-width="12"></span>
                                        </button>
                                    </label>
                                    <input type="number" value="150.5" class="input input-bordered input-sm" id="weight" readonly="">
                                </div>
                                
                                <div class="form-control">
                                    <label class="label">
                                        <span class="label-text font-medium">总体积 (m³)</span>
                                        <button class="btn btn-ghost btn-xs" onclick="editField(&#39;volume&#39;)">
                                            <span class="iconify" data-icon="heroicons:pencil" data-width="12"></span>
                                        </button>
                                    </label>
                                    <input type="number" value="2.8" class="input input-bordered input-sm" id="volume" readonly="">
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Charge Details Section -->
                <section class="card bg-base-100 shadow-sm border border-base-300">
                    <div class="card-body">
                        <div class="flex items-center justify-between mb-6">
                            <h2 class="card-title text-xl flex items-center gap-2">
                                <span class="iconify text-primary" data-icon="heroicons:currency-dollar" data-width="24"></span>
                                费用明细
                            </h2>
                            <button class="btn btn-primary btn-sm" onclick="addNewChargeItem()">
                                <span class="iconify" data-icon="heroicons:plus" data-width="16"></span>
                                添加费用项
                            </button>
                        </div>

                        <div class="overflow-x-auto">
                            <table class="table table-zebra w-full" id="chargeTable">
                                <thead>
                                    <tr class="bg-base-200">
                                        <th class="font-semibold">费用名称</th>
                                        <th class="font-semibold text-center">单价 (CNY)</th>
                                        <th class="font-semibold text-center">数量</th>
                                        <th class="font-semibold text-center">单位</th>
                                        <th class="font-semibold text-center">小计 (CNY)</th>
                                        <th class="font-semibold text-center">操作</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr data-repeatable="true" data-type="charge-item">
                                        <td class="font-medium">基础运费</td>
                                        <td class="text-center">
                                            <div class="join">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, -10)">
                                                    <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                                                </button>
                                                <input type="number" value="45.50" class="input input-bordered input-xs join-item w-20 text-center charge-price" onchange="calculateSubtotal(this)">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, 10)">
                                                    <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="join">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, -1)">
                                                    <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                                                </button>
                                                <input type="number" value="150.5" class="input input-bordered input-xs join-item w-20 text-center charge-quantity" onchange="calculateSubtotal(this)">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, 1)">
                                                    <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="text-center">kg</td>
                                        <td class="text-center font-bold charge-subtotal">¥6,847.75</td>
                                        <td class="text-center">
                                            <button class="btn btn-ghost btn-xs text-error" onclick="removeChargeItem(this)">
                                                <span class="iconify" data-icon="heroicons:trash" data-width="12"></span>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr data-repeatable="true" data-type="charge-item">
                                        <td class="font-medium">燃油附加费</td>
                                        <td class="text-center">
                                            <div class="join">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, -1)">
                                                    <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                                                </button>
                                                <input type="number" value="8.20" class="input input-bordered input-xs join-item w-20 text-center charge-price" onchange="calculateSubtotal(this)">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, 1)">
                                                    <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="join">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, -1)">
                                                    <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                                                </button>
                                                <input type="number" value="150.5" class="input input-bordered input-xs join-item w-20 text-center charge-quantity" onchange="calculateSubtotal(this)">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, 1)">
                                                    <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="text-center">kg</td>
                                        <td class="text-center font-bold charge-subtotal">¥1,234.10</td>
                                        <td class="text-center">
                                            <button class="btn btn-ghost btn-xs text-error" onclick="removeChargeItem(this)">
                                                <span class="iconify" data-icon="heroicons:trash" data-width="12"></span>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr data-repeatable="true" data-type="charge-item">
                                        <td class="font-medium">安全附加费</td>
                                        <td class="text-center">
                                            <div class="join">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, -0.5)">
                                                    <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                                                </button>
                                                <input type="number" value="2.50" class="input input-bordered input-xs join-item w-20 text-center charge-price" onchange="calculateSubtotal(this)">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, 0.5)">
                                                    <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="join">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, -1)">
                                                    <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                                                </button>
                                                <input type="number" value="150.5" class="input input-bordered input-xs join-item w-20 text-center charge-quantity" onchange="calculateSubtotal(this)">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, 1)">
                                                    <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="text-center">kg</td>
                                        <td class="text-center font-bold charge-subtotal">¥376.25</td>
                                        <td class="text-center">
                                            <button class="btn btn-ghost btn-xs text-error" onclick="removeChargeItem(this)">
                                                <span class="iconify" data-icon="heroicons:trash" data-width="12"></span>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr data-repeatable="true" data-type="charge-item">
                                        <td class="font-medium">代理费</td>
                                        <td class="text-center">
                                            <div class="join">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, -50)">
                                                    <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                                                </button>
                                                <input type="number" value="500.00" class="input input-bordered input-xs join-item w-20 text-center charge-price" onchange="calculateSubtotal(this)">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, 50)">
                                                    <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="text-center">
                                            <div class="join">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, -1)">
                                                    <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                                                </button>
                                                <input type="number" value="1" class="input input-bordered input-xs join-item w-20 text-center charge-quantity" onchange="calculateSubtotal(this)">
                                                <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, 1)">
                                                    <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                                                </button>
                                            </div>
                                        </td>
                                        <td class="text-center">票</td>
                                        <td class="text-center font-bold charge-subtotal">¥500.00</td>
                                        <td class="text-center">
                                            <button class="btn btn-ghost btn-xs text-error" onclick="removeChargeItem(this)">
                                                <span class="iconify" data-icon="heroicons:trash" data-width="12"></span>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- Remarks and Total Section -->
                <section class="card bg-base-100 shadow-sm border border-base-300">
                    <div class="card-body">
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <!-- Remarks -->
                            <div class="space-y-4">
                                <h3 class="text-lg font-semibold flex items-center gap-2">
                                    <span class="iconify text-primary" data-icon="heroicons:chat-bubble-left-ellipsis" data-width="20"></span>
                                    销售备注
                                </h3>
                                <div class="form-control">
                                    <textarea class="textarea textarea-bordered h-32 resize-none" placeholder="请输入备注信息，如特殊要求、注意事项等..." id="salesRemarks">此报价有效期为7天，包含基本保险。如需额外保险或特殊服务，请联系我们获取详细报价。</textarea>
                                    <label class="label">
                                        <span class="label-text-alt text-base-content/60">支持富文本格式</span>
                                        <span class="label-text-alt text-base-content/60" id="remarksCount">78/500</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Total Amount -->
                            <div class="flex flex-col justify-center items-center bg-gradient-to-br from-primary/10 to-accent/10 rounded-lg p-8">
                                <div class="text-center space-y-4">
                                    <h3 class="text-lg font-semibold text-base-content/80">报价总金额</h3>
                                    <div class="stat-value text-primary" id="totalAmount">¥8,958.10</div>
                                    <div class="text-sm text-base-content/60">
                                        <div>含税价格</div>
                                        <div class="mt-1">实时更新</div>
                                    </div>
                                    <div class="badge badge-success badge-outline">
                                        <span class="iconify" data-icon="heroicons:check-circle" data-width="16"></span>
                                        已验证
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <!-- Footer -->
            <div class="footer-wrapper">
                <div data-section-id="common_footer_simple" data-section-type="common_footer">
    <footer class="footer-simple px-6 flex items-center justify-between">
        <div class="flex items-center space-x-4">
            <span class="text-sm text-base-content opacity-70">© 2025 空运通</span>
            <span class="iconify text-accent" data-icon="heroicons:shield-check" data-width="16"></span>
            <span class="text-sm text-accent">安全保障</span>
        </div>
        <div class="flex items-center space-x-4">
            <a onclick="navigateTo(&#39;人工客服联系页&#39;)" class="text-sm text-base-content opacity-70 hover:text-primary transition-colors cursor-pointer">客服帮助</a>
            <a href="#" class="text-sm text-base-content opacity-70 hover:text-primary transition-colors">服务状态</a>
        </div>
    </footer>
</div>
            </div>
        </div>
    </div>

    <script>
(function() {
    // Global app namespace
    window.APP_GLOBALS = window.APP_GLOBALS || {};
    
    // Global navigation function
    window.navigateTo = function(targetPageId) {
        const isInIframe = window.self !== window.top;
        const targetFileName = `${targetPageId}.html`;
        
        if (isInIframe) {
            window.parent.postMessage({
                type: &#39;iframeNavigation&#39;,
                targetPageId: targetPageId
            }, &#39;*&#39;);
        } else {
            window.location.href = targetFileName;
        }
    };

    // Sidebar collapse functionality
    window.toggleSidebar = function() {
        const sidebar = document.querySelector(&#39;[data-section-id="common_sidebar"]&#39;);
        if (sidebar) {
            const sidebarEl = sidebar.querySelector(&#39;.app-sidebar&#39;);
            if (sidebarEl) {
                sidebarEl.classList.toggle(&#39;collapsed&#39;);
            }
        }
    };

    // Set active navigation item
    window.setActiveNavItem = function(pageId) {
        // Remove active class from all nav items
        document.querySelectorAll(&#39;.nav-item&#39;).forEach(item => {
            item.classList.remove(&#39;nav-item-active&#39;);
        });
        
        // Add active class to current page nav item
        const activeItem = document.querySelector(`[data-nav-page="${pageId}"]`);
        if (activeItem) {
            activeItem.classList.add(&#39;nav-item-active&#39;);
        }
    };

    // Mobile menu toggle
    window.toggleMobileMenu = function() {
        const mobileMenu = document.querySelector(&#39;.mobile-menu&#39;);
        if (mobileMenu) {
            mobileMenu.classList.toggle(&#39;hidden&#39;);
        }
    };

    // Global search functionality
    window.handleGlobalSearch = function(query) {
        if (query.trim()) {
            // Navigate to a search results page or filter current content
            console.log(&#39;搜索:&#39;, query);
            // For air freight context, could search shipments, quotes, etc.
        }
    };

    // Utility functions for air freight app
    window.APP_GLOBALS.formatWeight = function(weight, unit = &#39;kg&#39;) {
        return `${weight} ${unit}`;
    };

    window.APP_GLOBALS.formatCurrency = function(amount, currency = &#39;CNY&#39;) {
        return new Intl.NumberFormat(&#39;zh-CN&#39;, {
            style: &#39;currency&#39;,
            currency: currency
        }).format(amount);
    };

    window.APP_GLOBALS.formatDate = function(date) {
        return new Intl.DateTimeFormat(&#39;zh-CN&#39;).format(new Date(date));
    };
})();
</script>
    <script>
// Quote Detail Page JavaScript
(function() {
    &#39;use strict&#39;;

    // Initialize page
    document.addEventListener(&#39;DOMContentLoaded&#39;, function() {
        initializeQuoteDetail();
        calculateTotalAmount();
        initializeRemarksCounter();
        setActiveNavItem(&#39;报价单详情页&#39;);
    });

    // Initialize quote detail functionality
    function initializeQuoteDetail() {
        // Add keyboard navigation support
        document.addEventListener(&#39;keydown&#39;, function(e) {
            if (e.key === &#39;Tab&#39;) {
                // Tab navigation is handled by browser
                return;
            }
            
            // Ctrl+S to save
            if (e.ctrlKey &amp;&amp; e.key === &#39;s&#39;) {
                e.preventDefault();
                handleSaveQuote();
            }
            
            // Ctrl+E to export
            if (e.ctrlKey &amp;&amp; e.key === &#39;e&#39;) {
                e.preventDefault();
                handleExportPDF();
            }
        });
    }

    // Edit field functionality
    window.editField = function(fieldId) {
        const field = document.getElementById(fieldId);
        if (field) {
            field.readOnly = false;
            field.classList.add(&#39;edit-mode&#39;);
            field.focus();
            field.select();
            
            // Add blur event to save changes
            field.addEventListener(&#39;blur&#39;, function() {
                field.readOnly = true;
                field.classList.remove(&#39;edit-mode&#39;);
                // Here you would typically save the changes
                console.log(`字段 ${fieldId} 已更新为: ${field.value}`);
            });
        }
    };

    // Adjust price with buttons
    window.adjustPrice = function(button, amount) {
        const row = button.closest(&#39;tr&#39;);
        const priceInput = row.querySelector(&#39;.charge-price&#39;);
        const currentPrice = parseFloat(priceInput.value) || 0;
        const newPrice = Math.max(0, currentPrice + amount);
        priceInput.value = newPrice.toFixed(2);
        calculateSubtotal(priceInput);
    };

    // Adjust quantity with buttons
    window.adjustQuantity = function(button, amount) {
        const row = button.closest(&#39;tr&#39;);
        const quantityInput = row.querySelector(&#39;.charge-quantity&#39;);
        const currentQuantity = parseFloat(quantityInput.value) || 0;
        const newQuantity = Math.max(0, currentQuantity + amount);
        quantityInput.value = newQuantity.toFixed(1);
        calculateSubtotal(quantityInput);
    };

    // Calculate subtotal for a charge item
    window.calculateSubtotal = function(input) {
        const row = input.closest(&#39;tr&#39;);
        const price = parseFloat(row.querySelector(&#39;.charge-price&#39;).value) || 0;
        const quantity = parseFloat(row.querySelector(&#39;.charge-quantity&#39;).value) || 0;
        const subtotal = price * quantity;
        
        const subtotalCell = row.querySelector(&#39;.charge-subtotal&#39;);
        subtotalCell.textContent = `¥${subtotal.toLocaleString(&#39;zh-CN&#39;, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
        
        calculateTotalAmount();
    };

    // Calculate total amount
    function calculateTotalAmount() {
        const subtotalCells = document.querySelectorAll(&#39;.charge-subtotal&#39;);
        let total = 0;
        
        subtotalCells.forEach(cell => {
            const amount = parseFloat(cell.textContent.replace(&#39;¥&#39;, &#39;&#39;).replace(/,/g, &#39;&#39;)) || 0;
            total += amount;
        });
        
        const totalElement = document.getElementById(&#39;totalAmount&#39;);
        if (totalElement) {
            totalElement.textContent = `¥${total.toLocaleString(&#39;zh-CN&#39;, {minimumFractionDigits: 2, maximumFractionDigits: 2})}`;
        }
    }

    // Remove charge item
    window.removeChargeItem = function(button) {
        const row = button.closest(&#39;tr&#39;);
        if (confirm(&#39;确定要删除这个费用项吗？&#39;)) {
            row.remove();
            calculateTotalAmount();
        }
    };

    // Add new charge item
    window.addNewChargeItem = function() {
        const tbody = document.querySelector(&#39;#chargeTable tbody&#39;);
        const newRow = document.createElement(&#39;tr&#39;);
        newRow.setAttribute(&#39;data-repeatable&#39;, &#39;true&#39;);
        newRow.setAttribute(&#39;data-type&#39;, &#39;charge-item&#39;);
        newRow.classList.add(&#39;new-charge-item&#39;);
        
        newRow.innerHTML = `
            <td class="font-medium">
                <input type="text" placeholder="费用名称" class="input input-bordered input-sm w-full" />
            </td>
            <td class="text-center">
                <div class="join">
                    <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, -1)">
                        <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                    </button>
                    <input type="number" value="0.00" class="input input-bordered input-xs join-item w-20 text-center charge-price" onchange="calculateSubtotal(this)" />
                    <button class="btn btn-ghost btn-xs join-item" onclick="adjustPrice(this, 1)">
                        <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                    </button>
                </div>
            </td>
            <td class="text-center">
                <div class="join">
                    <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, -1)">
                        <span class="iconify" data-icon="heroicons:minus" data-width="12"></span>
                    </button>
                    <input type="number" value="1" class="input input-bordered input-xs join-item w-20 text-center charge-quantity" onchange="calculateSubtotal(this)" />
                    <button class="btn btn-ghost btn-xs join-item" onclick="adjustQuantity(this, 1)">
                        <span class="iconify" data-icon="heroicons:plus" data-width="12"></span>
                    </button>
                </div>
            </td>
            <td class="text-center">
                <input type="text" placeholder="单位" class="input input-bordered input-sm w-16 text-center" />
            </td>
            <td class="text-center font-bold charge-subtotal">¥0.00</td>
            <td class="text-center">
                <button class="btn btn-ghost btn-xs text-error" onclick="removeChargeItem(this)">
                    <span class="iconify" data-icon="heroicons:trash" data-width="12"></span>
                </button>
            </td>
        `;
        
        tbody.appendChild(newRow);
        
        // Focus on the name input
        const nameInput = newRow.querySelector(&#39;input[type="text"]&#39;);
        if (nameInput) {
            nameInput.focus();
        }
    };

    // Initialize remarks counter
    function initializeRemarksCounter() {
        const textarea = document.getElementById(&#39;salesRemarks&#39;);
        const counter = document.getElementById(&#39;remarksCount&#39;);
        
        if (textarea &amp;&amp; counter) {
            function updateCounter() {
                const length = textarea.value.length;
                counter.textContent = `${length}/500`;
                
                if (length > 450) {
                    counter.classList.add(&#39;text-warning&#39;);
                } else if (length > 500) {
                    counter.classList.remove(&#39;text-warning&#39;);
                    counter.classList.add(&#39;text-error&#39;);
                } else {
                    counter.classList.remove(&#39;text-warning&#39;, &#39;text-error&#39;);
                }
            }
            
            textarea.addEventListener(&#39;input&#39;, updateCounter);
            updateCounter(); // Initial count
        }
    }

    // Action handlers
    window.handleExportPDF = function() {
        // Simulate PDF export
        const toast = document.createElement(&#39;div&#39;);
        toast.className = &#39;toast toast-top toast-end&#39;;
        toast.innerHTML = `
            <div class="alert alert-success">
                <span class="iconify" data-icon="heroicons:check-circle" data-width="20"></span>
                <span>PDF导出成功！</span>
            </div>
        `;
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.remove();
        }, 3000);
        
        console.log(&#39;导出PDF功能&#39;);
    };

    window.handleShareLink = function() {
        // Generate share link with QR code
        const modal = document.createElement(&#39;div&#39;);
        modal.className = &#39;modal modal-open&#39;;
        modal.innerHTML = `
            <div class="modal-box">
                <h3 class="font-bold text-lg mb-4">分享报价单</h3>
                <div class="space-y-4">
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">分享链接</span>
                        </label>
                        <div class="join">
                            <input type="text" value="https://airfreight.com/quote/QT-2025-001234" class="input input-bordered join-item flex-1" readonly />
                            <button class="btn btn-primary join-item" onclick="copyToClipboard(this.previousElementSibling.value)">复制</button>
                        </div>
                    </div>
                    <div class="text-center">
                        <div class="bg-white p-4 rounded-lg inline-block">
                            <img src="https://placehold.co/150x150.png?text=QR+Code" alt="二维码" class="w-32 h-32" />
                        </div>
                        <p class="text-sm text-base-content/60 mt-2">扫描二维码快速查看</p>
                    </div>
                </div>
                <div class="modal-action">
                    <button class="btn" onclick="this.closest(&#39;.modal&#39;).remove()">关闭</button>
                </div>
            </div>
        `;
        document.body.appendChild(modal);
    };

    window.handleSaveQuote = function() {
        // Simulate saving
        const toast = document.createElement(&#39;div&#39;);
        toast.className = &#39;toast toast-top toast-end&#39;;
        toast.innerHTML = `
            <div class="alert alert-success">
                <span class="iconify" data-icon="heroicons:check-circle" data-width="20"></span>
                <span>报价单保存成功！</span>
            </div>
        `;
        document.body.appendChild(toast);
        
        setTimeout(() => {
            toast.remove();
            navigateTo(&#39;历史询价页&#39;);
        }, 1500);
    };

    // Utility function for copying to clipboard
    window.copyToClipboard = function(text) {
        navigator.clipboard.writeText(text).then(() => {
            const toast = document.createElement(&#39;div&#39;);
            toast.className = &#39;toast toast-top toast-end&#39;;
            toast.innerHTML = `
                <div class="alert alert-info">
                    <span class="iconify" data-icon="heroicons:clipboard-document-check" data-width="20"></span>
                    <span>链接已复制到剪贴板</span>
                </div>
            `;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.remove();
            }, 2000);
        });
    };

})();
</script>

<script>
    setTimeout(() => {
      Holder.run({
        domain: "placehold.co"
      })
    }, 100)
  </script></body></html>'></iframe>
                    </div>
                  </div>

                </body>
                </html>
            